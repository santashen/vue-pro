<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>æˆ‘çš„æ—…è¡Œåœ°å›¾</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      padding-top: 70px;
      background: linear-gradient(to bottom right, #e0f7fa, #fce4ec);
      min-height: 100vh;
      font-family: 'Helvetica Neue', sans-serif;
    }
    #map {
      height: 80vh;
      width: 100%;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
    }
    footer {
      text-align: center;
      padding: 10px;
      font-size: 0.9rem;
      color: #777;
    }
    .content-section {
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .readme-container {
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      max-width: 900px;
      margin: 0 auto;
    }
    .readme-container h1 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 0.5rem;
      margin-bottom: 1.5rem;
    }
    .readme-container h2 {
      color: #34495e;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
    .readme-container h3 {
      color: #7f8c8d;
      margin-top: 1.5rem;
      margin-bottom: 0.8rem;
    }
    .readme-container pre {
      background: #f8f9fa;
      padding: 1rem;
      border-radius: 5px;
      border-left: 4px solid #3498db;
      overflow-x: auto;
    }
    .readme-container code {
      background: #f8f9fa;
      padding: 0.2rem 0.4rem;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
    .readme-container ul, .readme-container ol {
      padding-left: 2rem;
    }
    .readme-container li {
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>

  <!-- å¯¼èˆªæ  -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">ğŸŒ æˆ‘çš„æ—…è¡Œåœ°å›¾</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarContent">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#" onclick="showContent('map')">åœ°å›¾</a></li>
          <li class="nav-item"><a class="nav-link" href="#" onclick="showContent('readme')">é¡¹ç›®è¯´æ˜</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- é¡µé¢å†…å®¹ -->
  <div class="container mt-4">
    <!-- åœ°å›¾é¡µé¢ -->
    <div id="map-content" class="content-section">
      <h2 class="text-center mb-4">ğŸ—ºï¸ æˆ‘å»è¿‡çš„åœ°æ–¹</h2>
      <div id="map" class="border shadow-sm"></div>
    </div>
    
    <!-- READMEè¯´æ˜é¡µé¢ -->
    <div id="readme-content" class="content-section" style="display: none;">
      <div class="readme-container">
        <h1>ğŸŒ My Travel æ—…è¡Œåœ°å›¾é¡¹ç›®</h1>
        
        <h2>ğŸ“– é¡¹ç›®ç®€ä»‹</h2>
        <p>è¿™æ˜¯ä¸€ä¸ªé™æ€HTMLé¡¹ç›®ï¼Œä½¿ç”¨Leaflet.jsåœ°å›¾åº“å±•ç¤ºä¸ªäººæ—…è¡Œè¶³è¿¹ã€‚é¡¹ç›®åŒ…å«ä¸€ä¸ªäº’åŠ¨åœ°å›¾ï¼Œæ ‡è®°äº†ä½œè€…è®¿é—®è¿‡çš„å„ä¸ªåŸå¸‚ï¼Œå¹¶é™„æœ‰ç›¸åº”çš„æ—…è¡Œå›å¿†å’Œè¯„è®ºã€‚</p>
        
        <h2>âœ¨ é¡¹ç›®ç‰¹ç‚¹</h2>
        <ul>
          <li>ğŸ“ <strong>äº’åŠ¨åœ°å›¾</strong>ï¼šåŸºäºOpenStreetMapçš„åœ°å›¾å±•ç¤º</li>
          <li>ğŸ§ <strong>è‡ªå®šä¹‰æ ‡è®°</strong>ï¼šä½¿ç”¨å¯çˆ±çš„ä¼é¹…å›¾æ ‡ä½œä¸ºåœ°ç‚¹æ ‡è®°</li>
          <li>ğŸ’¬ <strong>æ—…è¡Œå›å¿†</strong>ï¼šæ¯ä¸ªåœ°ç‚¹éƒ½åŒ…å«ä¸ªäººçš„æ—…è¡Œæ„Ÿå—å’Œå›å¿†</li>
          <li>ğŸ“± <strong>å“åº”å¼è®¾è®¡</strong>ï¼šä½¿ç”¨Bootstrapæ¡†æ¶ï¼Œæ”¯æŒç§»åŠ¨ç«¯è®¿é—®</li>
          <li>ğŸ¨ <strong>ç¾è§‚ç•Œé¢</strong>ï¼šæ¸å˜èƒŒæ™¯å’Œç°ä»£åŒ–UIè®¾è®¡</li>
        </ul>
        
        <h2>ğŸ› ï¸ æŠ€æœ¯æ ˆ</h2>
        <ul>
          <li><strong>å‰ç«¯</strong>ï¼šHTML5, CSS3, JavaScript</li>
          <li><strong>åœ°å›¾åº“</strong>ï¼šLeaflet.js</li>
          <li><strong>UIæ¡†æ¶</strong>ï¼šBootstrap 5.3.3</li>
          <li><strong>åœ°å›¾æœåŠ¡</strong>ï¼šOpenStreetMap</li>
          <li><strong>WebæœåŠ¡å™¨</strong>ï¼šNginxï¼ˆé™æ€æ–‡ä»¶æœåŠ¡ï¼‰</li>
        </ul>
        
        <h2>ğŸ—‚ï¸ æ–‡ä»¶ç»“æ„</h2>
        <pre><code>my_travel/
â”œâ”€â”€ app.html           # ä¸»é¡µé¢æ–‡ä»¶
â”œâ”€â”€ penguin.png        # åœ°å›¾æ ‡è®°å›¾æ ‡
â”œâ”€â”€ places.json        # åœ°ç‚¹æ•°æ®æ–‡ä»¶
â”œâ”€â”€ nginx-travel.conf  # Nginxé…ç½®æ–‡ä»¶
â””â”€â”€ README.md         # é¡¹ç›®è¯´æ˜æ–‡ä»¶</code></pre>
        
        <h2>ğŸ“Š æ•°æ®æ ¼å¼</h2>
        <p><code>places.json</code> æ–‡ä»¶æ ¼å¼ï¼š</p>
        <pre><code>[
  {
    "name": "åŸå¸‚åç§°",
    "lat": çº¬åº¦,
    "lon": ç»åº¦,
    "comment": "æ—…è¡Œå›å¿†å’Œè¯„è®º"
  }
]</code></pre>
        
        <h2>ğŸ”§ ç»´æŠ¤è¯´æ˜</h2>
        <h3>æ·»åŠ æ–°åœ°ç‚¹</h3>
        <p>ç¼–è¾‘ <code>places.json</code> æ–‡ä»¶ï¼Œæ·»åŠ æ–°çš„åœ°ç‚¹å¯¹è±¡å³å¯ã€‚</p>
        
        <h3>è‡ªå®šä¹‰æ ·å¼</h3>
        <p>å¯ä»¥ä¿®æ”¹é¡µé¢ä¸­çš„CSSæ ·å¼æ¥è°ƒæ•´å¤–è§‚ã€‚</p>
        
        <h3>æ›´æ¢åœ°å›¾æ ‡è®°</h3>
        <p>æ›¿æ¢ <code>penguin.png</code> æ–‡ä»¶å¯ä»¥æ›´æ¢åœ°å›¾æ ‡è®°å›¾æ ‡ï¼Œå»ºè®®ä½¿ç”¨32x32åƒç´ çš„PNGå›¾ç‰‡ã€‚</p>
        
        <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
        <ol>
          <li>ç”±äºä½¿ç”¨çš„æ˜¯é™æ€æ–‡ä»¶ï¼Œæ— éœ€æ•°æ®åº“æˆ–åç«¯æœåŠ¡</li>
          <li>åœ°ç‚¹æ•°æ®å­˜å‚¨åœ¨JSONæ–‡ä»¶ä¸­ï¼Œä¿®æ”¹åéœ€è¦é‡æ–°éƒ¨ç½²</li>
          <li>ç¡®ä¿æœåŠ¡å™¨æœ‰è¶³å¤Ÿçš„å¸¦å®½å¤„ç†åœ°å›¾åŠ è½½è¯·æ±‚</li>
          <li>å¦‚æœéœ€è¦æ·»åŠ å¤§é‡åœ°ç‚¹ï¼Œå»ºè®®è€ƒè™‘æ€§èƒ½ä¼˜åŒ–</li>
        </ol>
        
        <div class="alert alert-info mt-4">
          <h4>ğŸ’¡ ä½¿ç”¨æç¤º</h4>
          <p>ç‚¹å‡»åœ°å›¾ä¸Šçš„ä¼é¹…å›¾æ ‡å¯ä»¥æŸ¥çœ‹æ¯ä¸ªåœ°ç‚¹çš„è¯¦ç»†æ—…è¡Œå›å¿†ã€‚åœ°å›¾æ”¯æŒç¼©æ”¾å’Œæ‹–æ‹½æ“ä½œï¼Œæ‚¨å¯ä»¥è‡ªç”±æ¢ç´¢æ‰€æœ‰æ ‡è®°çš„åœ°ç‚¹ã€‚</p>
        </div>
      </div>
    </div>
  </div>

  <!-- é¡µè„š -->
  <footer class="mt-4">
    Â© 2025 æˆ‘çš„æ—…è¡Œæ—¥å¿— ï½œ Powered by Leaflet & Bootstrap
  </footer>

  <!-- è„šæœ¬ -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // é¡µé¢åˆ‡æ¢åŠŸèƒ½
    function showContent(contentType) {
      // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
      document.getElementById('map-content').style.display = 'none';
      document.getElementById('readme-content').style.display = 'none';
      
      // ç§»é™¤æ‰€æœ‰å¯¼èˆªé¡¹çš„activeç±»
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      
      // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹åŒºåŸŸ
      if (contentType === 'map') {
        document.getElementById('map-content').style.display = 'block';
        // å¦‚æœåœ°å›¾è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–åœ°å›¾
        if (!window.mapInitialized) {
          initializeMap();
        }
      } else if (contentType === 'readme') {
        document.getElementById('readme-content').style.display = 'block';
      }
      
      // æ·»åŠ activeç±»åˆ°å½“å‰å¯¼èˆªé¡¹
      event.target.classList.add('active');
    }
    
    // åœ°å›¾åˆå§‹åŒ–å‡½æ•°
    function initializeMap() {
      const myIcon = L.icon({
        iconUrl: 'penguin.png',
        iconSize: [32, 32],
        iconAnchor: [16, 32],
        popupAnchor: [0, -32]
      });

      const map = L.map('map').setView([37, 120], 4);

      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'åœ°å›¾æ•°æ® &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> è´¡çŒ®è€…',
        maxZoom: 18,
      }).addTo(map);

      fetch('places.json')
        .then(response => response.json())
        .then(data => {
          data.forEach(place => {
            L.marker([place.lat, place.lon], {icon: myIcon})
              .addTo(map)
              .bindPopup(`<b>${place.name}</b><br>${place.comment}`);
          });
        })
        .catch(error => console.error("åŠ è½½ JSON å‡ºé”™:", error));
      
      window.mapInitialized = true;
    }
    
    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–åœ°å›¾
    document.addEventListener('DOMContentLoaded', function() {
      initializeMap();
    });
  </script>
</body>
</html>
